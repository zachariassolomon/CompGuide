<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
      xmlns:p="http://primefaces.org/ui">
    <ui:composition template="/pagetemplate.xhtml">
        <ui:define name="title"> 
            <h:outputText value="Log-in" /> 
        </ui:define>
        <ui:define name="resourcefiles">

            <link type="text/css" rel="stylesheet" href="#{request.contextPath}/javax.faces.resource/theme.css.xhtml?ln=primefaces-bootstrap"/>
            <!--<link href="/javax.faces.resource/theme.css.xhtml?ln=primefaces-bootstrap" rel="stylesheet" type="text/css"/>-->
        </ui:define>
        <ui:define name="events">
            <f:metadata>
                <f:event type="preRenderView" listener="#{userController.keepLoggedIn}" />
            </f:metadata>
        </ui:define>
        <ui:define name="navbar">
            <ui:include src="/navbar/homenavbar.xhtml" />
        </ui:define>
        <ui:define name="pageheader">
            <ui:include src="/header/homeheader.xhtml" />
        </ui:define>
        <ui:define name="content">
            <b:row>
                <b:column col-md="5">
                    <div class="ct-form clearfix">
                        <h6>Complete the form</h6>
                        <p>Please use the form bellow to sign-in CompGuide.</p>
                        <h:form id="register"> 
                            <b:row>
                                <b:column>
                                    <p:messages showDetail="true" autoUpdate="true" />
                                </b:column>
                            </b:row>
                            <b:row>
                                <b:column id="panelusername" col-sm="12">
                                    <b:message for="username" />
                                    <div class="form-group">
                                        <i class="fa fa-user">
                                            <b:inputText id="username" placeholder="User Name"
                                                         class="form-control"
                                                         value="#{userController.selected.username}" 
                                                         tooltip="Enter the user name"
                                                         tooltip-position="top"
                                                         required="true" requiredMessage=" Fill the user name field"/>
                                        </i>
                                    </div>
                                </b:column>
                            </b:row>
                            <b:row>
                                <b:column id="panelpassword" col-sm="12">
                                    <b:message for="password" />
                                    <div class="form-group">
                                        <i class="fa fa fa-key">
                                            <b:inputSecret id="password" placeholder="Password"
                                                           class="form-control"
                                                           value="#{userController.password}" 
                                                           required="true" requiredMessage=" Fill the password field"
                                                           tooltip="Enter the password"
                                                           tooltip-position="top" />                                              
                                        </i>
                                    </div>
                                </b:column>

                            </b:row>
                            <b:row>
                                <b:column  col-sm="12" >
                                    <b:selectBooleanCheckbox  value="#{userController.keepLoggedIn}" caption="keep me logged in"/>
                                </b:column>
                            </b:row>

                            <b:commandButton ajax="true" id="buttonregister" update="@form" value="Sign-in" 
                                             class="btn-color-border-solid"                                       
                                             action="#{userController.login}"/>

                        </h:form>
                    </div>
                </b:column>
                <div class="col-sm-7 hidden-xs">
                    <figure class="animated fadeInUpBig" data-animation="fadeInUpBig" data-animation-delay="400">
                        <img src="resources/images/person.png" alt="//"/>
                    </figure>
                </div>
            </b:row>
        </ui:define>
        <ui:define name="footer">
            <ui:include src="/footer/footer.xhtml" />
        </ui:define>
    </ui:composition>
</html>

